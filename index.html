<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 ä¸Šæµ·è˜‡å·è¦ªå­äº”æ—¥éŠ (æ­¡æ¨‚ç‰ˆ)</title>
    <meta name="description" content="2026å¹´4æœˆä¸Šæµ·è˜‡å·è¦ªå­è¡Œç¨‹è¡¨ï¼Œè¿ªå£«å°¼æ­¡æ¨‚é¢¨æ ¼ç‰ˆ">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥åœ“æ½¤å­—é«” -->
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Noto+Sans+TC:wght@400;700&family=Varela+Round&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Noto Sans TC"', '"Fredoka"', 'sans-serif'],
                        display: ['"Varela Round"', '"Fredoka"', 'sans-serif'],
                    },
                    colors: {
                        magic: {
                            red: '#FF5F5F',      // ç±³å¥‡ç´…
                            yellow: '#FFD700',   // é‹å­é»ƒ
                            black: '#222222',    // è€³æœµé»‘
                            blue: '#4FB6FF',     // åŸå ¡è—
                            purple: '#A960EE',   // å¤¢å¹»ç´«
                            pink: '#FF99C8',     // å…¬ä¸»ç²‰
                            bg: '#F0F8FF',       // æ„›éº—çµ²æ·¡è—
                        },
                    },
                    backgroundImage: {
                        'polka-dots': "radial-gradient(#E1F2FE 20%, transparent 20%), radial-gradient(#E1F2FE 20%, transparent 20%)",
                    },
                    boxShadow: {
                        'pop': '4px 4px 0px 0px rgba(0,0,0,0.1)',
                        'pop-hover': '6px 6px 0px 0px rgba(0,0,0,0.15)',
                    },
                    animation: {
                        'spin-slow': 'spin 3s linear infinite',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #F0F8FF;
            background-image: radial-gradient(#dbeafe 3px, transparent 3px), radial-gradient(#dbeafe 3px, transparent 3px);
            background-size: 30px 30px;
            background-position: 0 0, 15px 15px;
        }
        
        h1, h2, h3, .font-display {
            font-family: 'Varela Round', 'Noto Sans TC', sans-serif;
        }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #F0F8FF; }
        ::-webkit-scrollbar-thumb { background: #FF99C8; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #FF5F5F; }
        
        .timeline-line::before {
            content: '';
            position: absolute;
            top: 10px;
            bottom: -10px;
            left: 24px;
            width: 4px;
            background-image: linear-gradient(to bottom, #4FB6FF 50%, transparent 50%);
            background-size: 10px 20px;
            background-repeat: repeat-y;
            z-index: 0;
            opacity: 0.6;
        }

        /* å½ˆè·³ç‰¹æ•ˆ */
        .bouncy {
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .bouncy:hover {
            transform: translateY(-5px) scale(1.02);
        }
        .bouncy:active {
            transform: scale(0.95);
        }
    </style>
</head>
<body class="bg-magic-bg text-gray-700 font-sans h-screen flex flex-col overflow-hidden selection:bg-magic-yellow selection:text-magic-black">

    <!-- Header -->
    <header class="bg-white/90 backdrop-blur-md shadow-sm border-b-4 border-magic-yellow z-20 flex-none relative overflow-hidden">
        <!-- è£é£¾èƒŒæ™¯ -->
        <div class="absolute -top-10 -right-10 w-40 h-40 bg-magic-blue rounded-full opacity-10 blur-xl"></div>
        <div class="absolute top-0 left-20 w-20 h-20 bg-magic-pink rounded-full opacity-10 blur-xl"></div>

        <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center relative z-10">
            <div class="flex items-center space-x-3">
                <!-- æ¨™é¡Œåœ–æ¨™ -->
                <div class="w-12 h-12 bg-gradient-to-tr from-magic-red to-orange-400 text-white flex items-center justify-center rounded-2xl shadow-pop transform rotate-3">
                    <i class="fa-solid fa-plane-departure text-xl"></i>
                </div>
                <div>
                    <h1 class="text-2xl md:text-3xl font-display font-bold text-magic-black tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-magic-red to-magic-purple">
                        æ±Ÿå—è¦ªå­éŠ
                    </h1>
                    <p class="text-xs md:text-sm text-gray-500 font-bold bg-yellow-100 inline-block px-2 py-0.5 rounded-full mt-1">
                        âœ¨ 2026å¹´4æœˆ Â· å¤¢å¹»å†’éšª âœ¨
                    </p>
                </div>
            </div>
            
            <div class="hidden md:flex items-center gap-4">
                 <div class="bg-blue-50 text-magic-blue px-4 py-2 rounded-xl text-sm font-bold border-2 border-blue-100 flex items-center gap-2">
                    <i class="fa-solid fa-cloud-sun text-yellow-400 text-lg"></i>
                    <span>15-23Â°C èˆ’é©</span>
                 </div>
                 <div class="bg-green-50 text-green-600 px-4 py-2 rounded-xl text-sm font-bold border-2 border-green-100 flex items-center gap-2">
                    <i class="fa-solid fa-suitcase"></i>
                    <span>é•·æ¦® BR705</span>
                 </div>
            </div>
        </div>
        
        <!-- Tabs Navigation -->
        <div class="max-w-7xl mx-auto px-2 md:px-4 mt-2 pb-2 overflow-x-auto no-scrollbar">
            <nav class="flex space-x-3 p-1" id="dayTabs"></nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 flex flex-col md:flex-row overflow-hidden max-w-7xl mx-auto w-full relative">
        
        <!-- Left Panel: Itinerary -->
        <section class="w-full md:w-1/2 lg:w-5/12 h-full overflow-y-auto p-4 md:p-6 bg-white/50 relative" id="itineraryContainer">
            <!-- Content injected by JS -->
        </section>

        <!-- Right Panel: Google Map -->
        <section class="hidden md:block w-full md:w-1/2 lg:w-7/12 h-full bg-blue-100 relative shadow-inner border-l-4 border-white">
            <!-- Map Frame -->
            <div class="absolute inset-4 bg-white rounded-3xl shadow-pop overflow-hidden border-4 border-magic-yellow">
                <div id="mapOverlay" class="absolute inset-0 z-10 pointer-events-none flex items-center justify-center transition-opacity duration-300 opacity-0 bg-magic-blue/20 backdrop-blur-sm">
                    <div class="bg-white text-magic-blue px-6 py-3 rounded-full font-bold shadow-lg animate-bounce">
                        <i class="fa-solid fa-wand-magic-sparkles mr-2"></i>åœ°åœ–è¼‰å…¥ä¸­...
                    </div>
                </div>
                <iframe id="googleMapFrame" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" src=""></iframe>
            </div>
            
            <!-- Location Info Card -->
            <div class="absolute bottom-10 left-10 right-10 bg-white/95 backdrop-blur-md rounded-2xl shadow-pop-hover p-5 border-2 border-gray-100 z-20 bouncy">
                <div class="flex justify-between items-center">
                    <div>
                        <div class="flex items-center gap-2 mb-1">
                            <span class="bg-magic-red text-white text-xs px-2 py-0.5 rounded-full font-bold">ç›®å‰ä½ç½®</span>
                        </div>
                        <h3 id="currentLocTitle" class="font-display font-bold text-xl text-gray-800">ä¸Šæµ·è±«åœ’è¬éº—é£¯åº—</h3>
                        <p id="currentLocAddress" class="text-sm text-gray-500 mt-1"><i class="fa-solid fa-map-pin text-magic-red mr-1"></i>é è¨­èµ·é»</p>
                    </div>
                    <a id="extMapLink" href="#" target="_blank" class="bg-gradient-to-r from-magic-blue to-blue-500 hover:from-blue-500 hover:to-blue-600 text-white px-5 py-3 rounded-xl text-sm font-bold shadow-lg transition flex items-center gap-2 whitespace-nowrap transform hover:scale-105 active:scale-95">
                        <i class="fa-solid fa-location-arrow"></i> å°èˆª
                    </a>
                </div>
            </div>
        </section>

        <!-- Mobile Map Toggle Button -->
        <div class="md:hidden fixed bottom-6 right-6 z-50">
            <button onclick="toggleMobileMap()" class="bg-magic-red text-white w-16 h-16 rounded-full shadow-pop-hover hover:bg-red-500 transition transform hover:scale-110 border-4 border-white flex items-center justify-center animate-bounce">
                <i class="fa-solid fa-map-location-dot text-2xl"></i>
            </button>
        </div>

        <!-- Mobile Map Modal -->
        <div id="mobileMapModal" class="md:hidden fixed inset-0 z-40 bg-white transform translate-y-full transition-transform duration-300 flex flex-col">
            <div class="flex justify-between items-center p-4 border-b-2 border-gray-100 shadow-sm bg-white">
                <h3 class="font-bold text-lg text-gray-800 font-display"><i class="fa-solid fa-map text-magic-yellow mr-2"></i>åœ°åœ–é è¦½</h3>
                <button onclick="toggleMobileMap()" class="w-10 h-10 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 flex items-center justify-center"><i class="fa-solid fa-xmark text-xl"></i></button>
            </div>
            <div class="flex-1 relative bg-blue-50 p-2">
                <iframe id="mobileMapFrame" width="100%" height="100%" class="rounded-xl shadow-inner border-2 border-white" style="border:0;" allowfullscreen="" loading="lazy" src=""></iframe>
            </div>
            <div class="p-4 bg-white border-t-2 border-gray-100">
                 <a id="mobileExtMapLink" href="#" target="_blank" class="w-full block text-center bg-magic-blue text-white py-4 rounded-xl font-bold shadow-pop active:shadow-none active:translate-y-1 transition">
                    <i class="fa-solid fa-rocket mr-2"></i> é–‹å•Ÿ Google Maps
                </a>
            </div>
        </div>
    </main>

    <script>
        // è³‡æ–™çµæ§‹ (ä¿æŒä¸è®Š)
        const tripData = [
            {
                dayId: 1,
                date: "4/17 é€±äº”",
                title: "æŠµé”ä¸Šæµ·",
                hotel: "ä¸Šæµ·è±«åœ’è¬éº—é£¯åº—",
                hotelAddress: "ä¸Šæµ·å¸‚é»„æµ¦åŒºæ²³å—å—è·¯159å·",
                items: [
                    {
                        time: "16:50 - 19:05",
                        title: "é•·æ¦®èˆªç©º BR706",
                        location: "ä¸Šæµ·æµ¦æ±åœ‹éš›æ©Ÿå ´ T2",
                        address: "Shanghai Pudong International Airport T2",
                        type: "transport",
                        desc: "é«˜é›„åœ‹éš›æ©Ÿå ´ (KHH) âœˆï¸ ä¸Šæµ·æµ¦æ± (PVG)",
                        logistics: "ä¸€å®¶å››å£+è¡Œæï¼Œå»ºè­°äº‹å…ˆé ç´„åŒ…è»Šç›´é”é£¯åº—ã€‚",
                        dining: "æ©Ÿä¸Šé¤é»"
                    },
                    {
                        time: "20:30",
                        title: "é£¯åº— Check-in & æ™šé¤",
                        location: "ä¸Šæµ·è±«åœ’è¬éº—é£¯åº—",
                        address: "ä¸Šæµ·å¸‚é»„æµ¦åŒºæ²³å—å—è·¯159å·",
                        type: "hotel",
                        desc: "è¬éº—é£¯åº—é«˜æ¨“å±¤çœ‹å¤œæ™¯ï¼Œæ—©é»ä¼‘æ¯ã€‚",
                        dining: "ä¾¿åˆ©å•†åº—æˆ–å¤–è³£(é¤“äº†éº¼)ç›´é€é£¯åº—å¤§å»³",
                        highlight: "çµ•ç¾è±«åœ’/å¤–ç˜å¤œæ™¯"
                    }
                ]
            },
            {
                dayId: 2,
                date: "4/18 é€±å…­",
                title: "è˜‡å·åœ’æ—",
                hotel: "ä¸Šæµ·è±«åœ’è¬éº—é£¯åº—",
                hotelAddress: "ä¸Šæµ·å¸‚é»„æµ¦åŒºæ²³å—å—è·¯159å·",
                items: [
                    {
                        time: "08:00",
                        title: "å‡ºç™¼ï¼šä¸Šæµ· ğŸš„ è˜‡å·",
                        location: "ä¸Šæµ·è™¹æ©‹ç«è»Šç«™",
                        address: "Shanghai Hongqiao Railway Station",
                        type: "transport",
                        logistics: "åœ°éµ10è™Ÿç·šè±«åœ’(1è™Ÿå£é€²) -> è™¹æ©‹ç«è»Šç«™(Bå‡ºå£)ã€‚é€±å…­äººå¤šï¼Œæå‰60åˆ†å®‰æª¢ã€‚",
                        desc: "æ­ä¹˜é«˜éµå‰å¾€è˜‡å·ç«™ã€‚"
                    },
                    {
                        time: "10:00",
                        title: "ç…å­æ— & æ‹™æ”¿åœ’",
                        location: "è˜‡å·ç…å­æ—",
                        address: "æ±Ÿè˜‡çœè˜‡å·å¸‚å§‘è˜‡å€åœ’æ—è·¯23è™Ÿ",
                        type: "activity",
                        highlight: "ã€å¼Ÿå¼Ÿã€‘ç…å­æ—é‘½å‡å±±æ´è¿·å®® ğŸ¦",
                        desc: "é«”é©—è˜‡å·å¤å…¸åœ’æ—ä¹‹ç¾ï¼Œå±±çŸ³å¶™å³‹ã€‚"
                    },
                    {
                        time: "12:00",
                        title: "åˆé¤ï¼šæ¾é¶´æ¨“",
                        location: "è˜‡å·æ¾é¶´æ¨“(è§€å‰è¡—åº—)",
                        address: "æ±Ÿè˜‡çœè˜‡å·å¸‚å¹³æ±Ÿå€å¤ªç›£å¼„72è™Ÿ",
                        type: "dining",
                        dining: "æ¾é¼ æ¡‚é­š ğŸŸ (å‚™æ¡ˆ: è£•èˆˆè¨˜éºµé¤¨)",
                        desc: "è˜‡å·å¿…åƒè€å­—è™Ÿã€‚"
                    },
                    {
                        time: "14:00",
                        title: "å¯’å±±å¯º & å±±å¡˜è¡—",
                        location: "å¯’å±±å¯º",
                        address: "æ±Ÿè˜‡çœè˜‡å·å¸‚å§‘è˜‡å€å¯’å±±å¯ºå¼„24è™Ÿ",
                        type: "activity",
                        highlight: "ã€å§Šå§Šã€‘å°æ‡‰èª²æœ¬ã€Šæ¥“æ©‹å¤œæ³Šã€‹è©©è© ğŸ“–",
                        desc: "åƒè¨ªå¤å‰å¾Œå‰å¾€å±±å¡˜è¡—æ„Ÿå—æ°´é„‰é¢¨æƒ…ã€‚"
                    },
                    {
                        time: "19:00",
                        title: "å›ç¨‹ï¼šè˜‡å· ğŸš„ ä¸Šæµ·",
                        location: "è˜‡å·ç«™",
                        address: "Suzhou Railway Station",
                        type: "transport",
                        logistics: "é«˜éµè‡³è™¹æ©‹ -> åœ°éµ10è™Ÿç·š(åŒ—2å…¥å£é€²) -> è±«åœ’(1è™Ÿå£å‡º)ã€‚",
                        desc: "è¿”å›é£¯åº—ä¼‘æ¯ã€‚"
                    }
                ]
            },
            {
                dayId: 3,
                date: "4/19 é€±æ—¥",
                title: "æµ¦æ±å¤©éš›ç·š",
                hotel: "ä¸Šæµ·è±«åœ’è¬éº—é£¯åº—",
                hotelAddress: "ä¸Šæµ·å¸‚é»„æµ¦åŒºæ²³å—å—è·¯159å·",
                items: [
                    {
                        time: "09:30",
                        title: "æ¸¡è¼ªéæ±Ÿ & æ±æ–¹æ˜ç ",
                        location: "æ±æ–¹æ˜ç å»£æ’­é›»è¦–å¡”",
                        address: "ä¸Šæµ·å¸‚æµ¦æ±æ–°å€ä¸–ç´€å¤§é“1è™Ÿ",
                        type: "activity",
                        logistics: "å¾é‡‘é™µæ±è·¯æ¸¡å£æ­æ¸¡è¼ªï¼Œä¾¿å®œæœ‰è¶£ã€‚",
                        highlight: "ã€å…±åŒã€‘å…¨é€æ˜æ‡¸ç©ºå»Šé“æŒ‘æˆ°è†½é‡ ğŸ˜±",
                        desc: "æµ¦æ±åœ°æ¨™ï¼Œä¿¯ç°é»ƒæµ¦æ±Ÿå…©å²¸ã€‚"
                    },
                    {
                        time: "12:00",
                        title: "åˆé¤ï¼šIFC åœ‹é‡‘ä¸­å¿ƒ",
                        location: "ä¸Šæµ·åœ‹é‡‘ä¸­å¿ƒå•†å ´",
                        address: "ä¸Šæµ·å¸‚æµ¦æ±æ–°å€ä¸–ç´€å¤§é“8è™Ÿ",
                        type: "dining",
                        dining: "æ¡‚æ»¿éš´ (æ­å¹«èœ) æˆ– Shake Shack ğŸ”",
                        desc: "èˆ’é©çš„è³¼ç‰©ä¸­å¿ƒç”¨é¤ç’°å¢ƒã€‚"
                    },
                    {
                        time: "14:30",
                        title: "å—äº¬æ±è·¯ & å¤–ç˜",
                        location: "å—äº¬æ±è·¯æ­¥è¡Œè¡—",
                        address: "ä¸Šæµ·å¸‚é»ƒæµ¦å€å—äº¬æ±è·¯",
                        type: "activity",
                        logistics: "æ­ä¹˜ã€Œéºéºè»Šã€æ¸›å°‘æ­¥è¡Œã€‚",
                        highlight: "ã€å§Šå§Šã€‘Pop Mart æ——è‰¦åº— ğŸ ã€å¼Ÿå¼Ÿã€‘Lego æ——è‰¦åº— ğŸ§±",
                        desc: "åé‡Œæ´‹å ´é¢¨å…‰ï¼Œå¤–ç˜è¬åœ‹å»ºç¯‰åšè¦½ç¾¤ã€‚"
                    },
                    {
                        time: "18:00",
                        title: "è±«åœ’å¤œæ™¯ & æ™šé¤",
                        location: "è±«åœ’è€è¡—",
                        address: "ä¸Šæµ·å¸‚é»ƒæµ¦å€è±«åœ’è€è¡—",
                        type: "activity",
                        dining: "ä¸Šæµ·è€é£¯åº— æˆ– è”¡ç€¾æ¸¯å¼é»å¿ƒ ğŸ¥Ÿ",
                        desc: "æ¬£è³å¤è‰²å¤é¦™çš„è±«åœ’å¤œç‡ˆã€‚"
                    }
                ]
            },
            {
                dayId: 4,
                date: "4/20 é€±ä¸€",
                title: "è¿ªå£«å°¼æ¨‚åœ’",
                hotel: "ä¸Šæµ·è±«åœ’è¬éº—é£¯åº—",
                hotelAddress: "ä¸Šæµ·å¸‚é»„æµ¦åŒºæ²³å—å—è·¯159å·",
                items: [
                    {
                        time: "07:30",
                        title: "å‰å¾€è¿ªå£«å°¼ âœ¨",
                        location: "ä¸Šæµ·è¿ªå£«å°¼æ¨‚åœ’",
                        address: "ä¸Šæµ·å¸‚æµ¦æ±æ–°å€å·æ²™æ–°é®",
                        type: "transport",
                        logistics: "è±«åœ’(10è™Ÿç·š) -> äº¤é€šå¤§å­¸æ›ä¹˜(11è™Ÿç·š) -> è¿ªå£«å°¼(1è™Ÿå£)ã€‚å»ºè­°è²·å°Šäº«å¡(DPA)ã€‚",
                        desc: "æº–å‚™å¥½é«”åŠ›ï¼Œè¿æ¥å¤¢å¹»çš„ä¸€å¤©ï¼"
                    },
                    {
                        time: "09:00",
                        title: "ç˜‹ç‹‚å‹•ç‰©åŸ Zootopia",
                        location: "ä¸Šæµ·è¿ªå£«å°¼æ¨‚åœ’ç˜‹ç‹‚å‹•ç‰©åŸ",
                        address: "ä¸Šæµ·è¿ªå£«å°¼æ¨‚åœ’",
                        type: "activity",
                        highlight: "ã€å…±åŒã€‘å…¨çƒå”¯ä¸€ Zootopiaåœ’å€ (é¦–è¡ç†±åŠ›è¿½è¹¤) ğŸ¦ŠğŸ°",
                        desc: "æ²ˆæµ¸å¼é«”é©—å‹•ç‰©åŸå ´æ™¯ã€‚"
                    },
                    {
                        time: "11:00",
                        title: "å‰µæ¥µé€Ÿå…‰è¼ª & æ˜æ—¥ä¸–ç•Œ",
                        location: "ä¸Šæµ·è¿ªå£«å°¼æ¨‚åœ’æ˜æ—¥ä¸–ç•Œ",
                        address: "ä¸Šæµ·è¿ªå£«å°¼æ¨‚åœ’",
                        type: "activity",
                        highlight: "ã€çˆ¸/å§Šã€‘å‰µæ¥µé€Ÿå…‰è¼ª (åˆºæ¿€é‡æ©Ÿé«”é©—) ğŸï¸",
                        desc: "ç§‘æŠ€æ„Ÿåè¶³çš„é›²éœ„é£›è»Šã€‚"
                    },
                    {
                        time: "12:30",
                        title: "åˆé¤ï¼šå·´æ³¢è–©ç‡’çƒ¤",
                        location: "ä¸Šæµ·è¿ªå£«å°¼æ¨‚åœ’å¯¶è—ç£",
                        address: "ä¸Šæµ·è¿ªå£«å°¼æ¨‚åœ’",
                        type: "dining",
                        dining: "æ‹›ç‰Œè±¬è‚‹æ’é¤ ğŸ–",
                        desc: "ä½æ–¼å¯¶è—ç£å€åŸŸã€‚"
                    },
                    {
                        time: "20:00",
                        title: "ç…™ç«ç§€ & æ™šé¤",
                        location: "è¿ªå£«å°¼å°é®",
                        address: "ä¸Šæµ·è¿ªå£«å°¼åº¦å‡å€",
                        type: "activity",
                        highlight: "å¥‡å¤¢ä¹‹å…‰å¹»å½±ç§€ ğŸ†",
                        dining: "æ™šé¤ï¼šå°é®è—è›™æ¼¢å ¡",
                        desc: "çœ‹å®Œç…™ç«å¾Œï¼Œæ–¼å°é®ç”¨é¤é¿é–‹é›¢åœ’å°–å³°ã€‚"
                    }
                ]
            },
            {
                dayId: 5,
                date: "4/21 é€±äºŒ",
                title: "åšç‰©é¤¨ & è³¦æ­¸",
                hotel: "ç”œèœœçš„å®¶",
                hotelAddress: "",
                items: [
                    {
                        time: "09:00",
                        title: "é€€æˆ¿ & å¯„æ”¾è¡Œæ",
                        location: "ä¸Šæµ·è±«åœ’è¬éº—é£¯åº—",
                        address: "ä¸Šæµ·å¸‚é»„æµ¦åŒºæ²³å—å—è·¯159å·",
                        type: "transport",
                        logistics: "æµç¨‹ï¼šå¯„æ”¾è¡Œæ -> åšç‰©é¤¨ -> å›é£¯åº—æ‹¿è¡Œæ -> æ©Ÿå ´ã€‚",
                        desc: "æŠŠæ¡æœ€å¾Œä¸€å¤©ä¸Šåˆæ™‚å…‰ã€‚"
                    },
                    {
                        time: "10:00",
                        title: "ä¸Šæµ·è‡ªç„¶åšç‰©é¤¨",
                        location: "ä¸Šæµ·è‡ªç„¶åšç‰©é¤¨",
                        address: "ä¸Šæµ·å¸‚é™å®‰åŒºåŒ—äº¬è¥¿è·¯510å·",
                        type: "activity",
                        highlight: "ã€å¼Ÿå¼Ÿã€‘æé¾å±•å»³ ğŸ¦• ã€å§Šå§Šã€‘ç”Ÿå‘½é•·æ²³æ¨™æœ¬ç‰† ğŸ¦‹",
                        desc: "å»ºç¯‰å„ªç¾ä¸”é¤¨è—è±å¯Œï¼ŒçŸ¥æ€§ä¹‹æ—…ã€‚",
                        dining: "åˆé¤ï¼šåšç‰©é¤¨å…§æˆ–å‘¨é‚Šå•†å ´"
                    },
                    {
                        time: "13:30",
                        title: "éœå®‰é›•å¡‘å…¬åœ’ & å—äº¬æ±è·¯",
                        location: "éœå®‰é›•å¡‘å…¬åœ’",
                        address: "ä¸Šæµ·å¸‚é™å®‰åŒºçŸ³é—¨äºŒè·¯128å·",
                        type: "activity",
                        desc: "åšç‰©é¤¨æ—çš„æˆ¶å¤–è—è¡“å…¬åœ’ï¼Œéš¨å¾Œå¯è‡³å—äº¬æ±è·¯åšæœ€å¾Œæ¡è²·ã€‚"
                    },
                    {
                        time: "16:30",
                        title: "å–è¡Œæ & å‰å¾€æ©Ÿå ´",
                        location: "ä¸Šæµ·è±«åœ’è¬éº—é£¯åº—",
                        address: "ä¸Šæµ·å¸‚é»„æµ¦åŒºæ²³å—å—è·¯159å·",
                        type: "transport",
                        desc: "å›åˆ°é£¯åº—é ˜å–è¡Œæï¼Œæ­ä¹˜å°ˆè»Šæˆ–ç£æµ®ç·šå‰å¾€æ©Ÿå ´ã€‚"
                    },
                    {
                        time: "20:05",
                        title: "é•·æ¦®èˆªç©º BR705 è¿”å°",
                        location: "ä¸Šæµ·æµ¦æ±åœ‹éš›æ©Ÿå ´ T2",
                        address: "Shanghai Pudong International Airport T2",
                        type: "transport",
                        logistics: "BR705 20:05 èµ·é£› -> 22:20 æŠµé”é«˜é›„(KHH)ã€‚",
                        dining: "æ™šé¤ï¼šæ©Ÿå ´æˆ–æ©Ÿä¸Š",
                        desc: "å¸¶è‘—æ»¿æ»¿å›æ†¶ï¼Œå¹³å®‰å›å®¶ ğŸ ã€‚"
                    }
                ]
            }
        ];

        let currentDayId = 1;

        document.addEventListener('DOMContentLoaded', () => {
            renderTabs();
            renderTimeline(currentDayId);
            // åˆå§‹åœ°åœ–ä½ç½®
            updateMap(tripData[0].hotel, tripData[0].hotelAddress);
        });

        function renderTabs() {
            const container = document.getElementById('dayTabs');
            container.innerHTML = tripData.map(day => `
                <button onclick="switchDay(${day.dayId})" 
                    class="rounded-2xl py-3 px-5 whitespace-nowrap text-sm font-bold transition-all duration-300 border-2 shadow-pop hover:shadow-pop-hover transform hover:-translate-y-1
                    ${day.dayId === currentDayId 
                        ? 'bg-magic-red text-white border-magic-red scale-105' 
                        : 'bg-white text-gray-500 border-white hover:border-blue-200 hover:text-magic-blue'}">
                    <span class="block text-xs opacity-90 mb-0.5">${day.date}</span>
                    <span class="text-base font-display">${day.title}</span>
                </button>
            `).join('');
        }

        function switchDay(dayId) {
            currentDayId = dayId;
            renderTabs();
            renderTimeline(dayId);
            const firstLoc = tripData.find(d => d.dayId === dayId).items[0];
            updateMap(firstLoc.location, firstLoc.address);
        }

        function renderTimeline(dayId) {
            const container = document.getElementById('itineraryContainer');
            const dayData = tripData.find(d => d.dayId === dayId);
            
            let html = '';
            
            // Hotel Card (Exclude last day home)
            if(dayData.hotel && dayData.hotel !== "ç”œèœœçš„å®¶") {
                html += `
                    <div class="mb-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-3xl p-1 flex items-center gap-4 cursor-pointer hover:scale-[1.02] transition shadow-pop-hover relative overflow-hidden group z-10" onclick="updateMap('${dayData.hotel}', '${dayData.hotelAddress}')">
                         <div class="absolute -right-4 -top-4 w-16 h-16 bg-white/20 rounded-full blur-xl"></div>
                         
                         <div class="bg-white p-5 w-full rounded-[20px] flex items-center gap-4">
                            <div class="bg-purple-100 text-purple-600 w-12 h-12 flex items-center justify-center rounded-full shrink-0 border-2 border-purple-200 shadow-inner group-hover:rotate-12 transition">
                                <i class="fa-solid fa-bed text-lg"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-800 text-lg font-display">ä½å®¿ï¼š${dayData.hotel}</h3>
                                <p class="text-sm text-gray-500 mt-1"><i class="fa-solid fa-location-dot mr-1 text-purple-400"></i>${dayData.hotelAddress}</p>
                            </div>
                         </div>
                    </div>
                `;
            }

            // Timeline Items
            html += '<div class="pt-2 relative">';
            html += dayData.items.map((item, index) => {
                let icon = 'fa-location-dot';
                let themeColor = 'text-magic-red';
                let iconBg = 'bg-white border-magic-red text-magic-red';
                let cardBorder = 'border-l-[6px] border-l-magic-red';
                let pillColor = 'bg-red-100 text-red-600';
                
                if(item.type === 'transport') { 
                    icon = 'fa-plane-departure';
                    if(item.title.includes('ç«è»Š')) icon = 'fa-train-subway'; 
                    themeColor = 'text-magic-blue';
                    iconBg = 'bg-white border-magic-blue text-magic-blue';
                    cardBorder = 'border-l-[6px] border-l-magic-blue';
                    pillColor = 'bg-blue-100 text-blue-600';
                }
                if(item.type === 'dining') { 
                    icon = 'fa-utensils'; 
                    themeColor = 'text-orange-500';
                    iconBg = 'bg-white border-orange-400 text-orange-500';
                    cardBorder = 'border-l-[6px] border-l-orange-400';
                    pillColor = 'bg-orange-100 text-orange-600';
                }
                if(item.type === 'hotel') { 
                    icon = 'fa-suitcase'; 
                    themeColor = 'text-purple-500';
                    iconBg = 'bg-white border-purple-400 text-purple-500';
                    cardBorder = 'border-l-[6px] border-l-purple-400';
                    pillColor = 'bg-purple-100 text-purple-600';
                }
                
                // Special style for Disney items
                if(item.title.includes('è¿ªå£«å°¼') || item.location.includes('è¿ªå£«å°¼')) {
                    icon = 'fa-wand-magic-sparkles';
                    themeColor = 'text-pink-500';
                    iconBg = 'bg-gradient-to-br from-pink-400 to-purple-500 text-white border-transparent shadow-lg animate-pulse';
                    cardBorder = 'border-l-[6px] border-l-pink-400';
                }

                return `
                <div class="relative pl-12 pb-10 group timeline-line last:pb-0">
                    <!-- Icon Node -->
                    <div class="absolute left-[6px] top-0 w-12 h-12 ${iconBg} rounded-full flex items-center justify-center z-10 border-4 shadow-sm group-hover:scale-110 group-hover:rotate-12 transition duration-300">
                        <i class="fa-solid ${icon}"></i>
                    </div>
                    
                    <!-- Card -->
                    <div class="bouncy bg-white rounded-2xl p-5 border-2 border-white shadow-pop hover:shadow-pop-hover cursor-pointer relative overflow-hidden ${cardBorder}"
                        onclick="updateMap('${item.location}', '${item.address}')">
                        
                        <!-- èƒŒæ™¯è£é£¾ -->
                        <div class="absolute right-0 bottom-0 opacity-5 text-6xl text-gray-300 transform translate-x-4 translate-y-4 rotate-12">
                             <i class="fa-solid ${icon}"></i>
                        </div>

                        <div class="relative z-10">
                            <div class="flex flex-wrap gap-2 items-center mb-2">
                                <span class="inline-block px-3 py-1 rounded-lg text-xs font-bold ${pillColor}">${item.time}</span>
                                ${item.type === 'dining' ? '<span class="text-xs bg-yellow-100 text-yellow-600 font-bold px-2 py-1 rounded-lg border border-yellow-200"><i class="fa-solid fa-star mr-1"></i>å¿…åƒ</span>' : ''}
                            </div>
                            
                            <h3 class="text-xl font-display font-bold text-gray-800 mb-2 group-hover:${themeColor} transition">${item.title}</h3>
                            <p class="text-sm text-gray-500 mb-4 leading-relaxed">${item.desc}</p>
                            
                            <div class="space-y-3">
                                ${item.highlight ? `
                                    <div class="bg-yellow-50 rounded-xl p-3 border-2 border-yellow-100 flex gap-3 items-start">
                                        <div class="bg-yellow-400 text-white rounded-full w-6 h-6 flex items-center justify-center shrink-0 mt-0.5 shadow-sm">
                                            <i class="fa-solid fa-lightbulb text-xs"></i>
                                        </div>
                                        <span class="text-sm text-gray-700 font-medium">${item.highlight}</span>
                                    </div>
                                ` : ''}
                                
                                ${item.logistics ? `
                                    <div class="flex items-start gap-2 text-xs text-gray-400">
                                        <i class="fa-solid fa-circle-info mt-0.5"></i>
                                        <span>${item.logistics}</span>
                                    </div>
                                ` : ''}

                                ${item.dining && item.type !== 'dining' ? `
                                    <div class="flex items-start gap-2 text-sm bg-orange-50 p-2 rounded-lg text-orange-800 border border-orange-100">
                                        <i class="fa-solid fa-burger mt-1"></i>
                                        <span class="font-bold">é¤é£²æ¨è–¦ï¼š${item.dining}</span>
                                    </div>
                                ` : ''}
                            </div>
                        </div>
                    </div>
                </div>`;
            }).join('');
            html += '</div>';

            // åŠ å…¥ç›£è£½ç‰ˆæ¬Šå®£å‘Š (Added Copyright)
            html += `
                <div class="mt-12 mb-6 text-center group cursor-default">
                    <div class="inline-flex items-center gap-2 px-5 py-2.5 bg-white/60 backdrop-blur-sm rounded-full border border-white shadow-sm group-hover:shadow-pop transition-all duration-300 group-hover:scale-105">
                        <i class="fa-solid fa-crown text-magic-yellow text-sm animate-[bounce_2s_infinite]"></i>
                        <span class="text-xs font-bold text-gray-400 tracking-widest group-hover:text-magic-blue transition-colors font-display">
                            å²ä¸€è‰¯ç›£è£½ï¼Œç‰ˆæ¬Šæ‰€æœ‰
                        </span>
                        <i class="fa-solid fa-star text-magic-red text-[8px] animate-spin-slow"></i>
                    </div>
                </div>
            `;
            
            container.innerHTML = html;
        }

        function updateMap(loc, addr) {
            const overlay = document.getElementById('mapOverlay');
            overlay.classList.remove('opacity-0');
            
            const query = encodeURIComponent(loc + (addr ? " " + addr : ""));
            const mapUrl = `https://maps.google.com/maps?q=${query}&t=&z=14&ie=UTF8&iwloc=&output=embed`;
            const extLink = `https://www.google.com/maps/search/?api=1&query=${query}`;
            
            document.getElementById('googleMapFrame').src = mapUrl;
            document.getElementById('mobileMapFrame').src = mapUrl;
            document.getElementById('currentLocTitle').textContent = loc;
            document.getElementById('currentLocAddress').textContent = addr || loc;
            document.getElementById('extMapLink').href = extLink;
            document.getElementById('mobileExtMapLink').href = extLink;

            setTimeout(() => overlay.classList.add('opacity-0'), 1200);
        }

        function toggleMobileMap() {
            document.getElementById('mobileMapModal').classList.toggle('translate-y-full');
        }
    </script>
</body>
</html>